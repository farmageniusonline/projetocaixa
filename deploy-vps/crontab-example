# Exemplo de configuração do crontab para Manipularium
# Para aplicar: crontab -e e adicione as linhas abaixo

# Backup diário às 2:30 AM
30 2 * * * /home/usuario/manipularium/backup.sh >> /var/log/manipularium-backup.log 2>&1

# Renovação automática de SSL (todos os dias às 2:00 AM)
0 2 * * * certbot renew --quiet && docker-compose -f /home/usuario/manipularium/docker-compose.yml restart nginx

# Limpeza de logs antigos (toda semana)
0 3 * * 0 find /var/log/nginx/ -name "*.log" -mtime +30 -delete

# Reiniciar aplicação toda segunda às 3:00 AM (opcional)
# 0 3 * * 1 docker-compose -f /home/usuario/manipularium/docker-compose.yml restart

# Monitoramento de saúde da aplicação (a cada 5 minutos)
*/5 * * * * curl -f http://localhost > /dev/null 2>&1 || echo "$(date): Aplicação não está respondendo" >> /var/log/manipularium-health.log

# Backup semanal para armazenamento externo (domingo às 4:00 AM)
0 4 * * 0 rsync -avz /home/backups/manipularium/ usuario@servidor-backup:/backup/manipularium/